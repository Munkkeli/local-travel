<!--
  Generated template for the LoginRegisterPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<!--
<ion-header>
  <ion-navbar> <ion-title>login-register</ion-title> </ion-navbar>
</ion-header>
-->

<ion-content class="login-register">
  <div *ngIf="!viewRegister" class="wrapper">
    <div class="background"></div>
    <div class="form-wrapper">
      <ion-card>
        <ion-card-content>
          <form id="login-form" (ngSubmit)="loginFormSubmit()">
            <ion-item>
              <ion-label floating>Username</ion-label>
              <ion-input
                type="text"
                [(ngModel)]="login.username"
                name="username"
              ></ion-input>
            </ion-item>
            <ion-item>
              <ion-label floating>Password</ion-label>
              <ion-input
                type="password"
                [(ngModel)]="login.password"
                name="password"
              ></ion-input>
            </ion-item>

            <div class="divider"></div>
          </form>
          <button
            class="login"
            ion-button
            form="login-form"
            type="submit"
            block
          >
            Log In
          </button>
        </ion-card-content>
      </ion-card>
      <button
        class="register"
        ion-button
        color="dark"
        (click)="toggleViewRegister()"
        clear
        block
      >
        No account yet? <b>Sign Up</b>
      </button>
    </div>
  </div>

  <div *ngIf="viewRegister" class="register-content wrapper">
    <div class="form-wrapper">
      <ion-card>
        <ion-card-content>
          <form [formGroup]="registerForm" (ngSubmit)="registerFormSubmit()">
            <ion-item>
              <ion-label floating>
                <h2>Username</h2>
                <p *ngIf="checkFieldValidity('username')" style="color: red;">
                  Username is in use, or is less than 3 characters long
                </p>
              </ion-label>
              <ion-input
                type="text"
                formControlName="username"
                name="username"
              ></ion-input>
            </ion-item>
            <ion-item>
              <ion-label floating>
                <h2>Email</h2>
                <p *ngIf="checkFieldValidity('email')" style="color: red;">
                  Email address is invalid
                </p>
              </ion-label>
              <ion-input
                type="email"
                formControlName="email"
                name="email"
              ></ion-input>
            </ion-item>
            <ion-item>
              <ion-label floating>
                <h2>Full Name</h2>
              </ion-label>
              <ion-input
                type="text"
                formControlName="full_name"
                name="full_name"
              ></ion-input>
            </ion-item>
            <ion-item>
              <ion-label floating>
                <h2>Password</h2>
                <p *ngIf="checkFieldValidity('password')" style="color: red;">
                  Password must be 5 or more characters long
                </p>
              </ion-label>
              <ion-input
                type="password"
                formControlName="password"
                name="password"
              ></ion-input>
            </ion-item>
            <ion-item>
              <ion-label floating>
                <h2>Re-Password</h2>
                <p
                  *ngIf="checkFieldValidity('re_password')"
                  style="color: red;"
                >
                  Passwords must match
                </p>
              </ion-label>
              <ion-input
                type="password"
                formControlName="re_password"
                name="re_password"
              ></ion-input>
            </ion-item>

            <button
              class="login"
              ion-button
              type="submit"
              [disabled]="!registerForm.valid"
              block
            >
              Sign Up
            </button>
          </form>
        </ion-card-content>
      </ion-card>

      <button
        class="register"
        ion-button
        color="dark"
        (click)="toggleViewRegister()"
        clear
        block
      >
        Already have an account? <b>Log In</b>
      </button>
    </div>
  </div>
</ion-content>
